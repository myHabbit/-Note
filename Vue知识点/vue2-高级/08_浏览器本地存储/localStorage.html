<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>localStorage</title>
</head>

<body>
    <!-- <input type="text"> -->
    <h2>localStorage</h2>
    <button class="btn">点我保存一个数据</button>
    <button class="btn1">点我读取一个数据</button>
    <button class="btn2">点我删除一个数据</button>
    <button class="btn3">点我清空</button>



    <script>

        // const input = document.querySelector('input')
        // input.addEventListener('blur', function (e) {
        //     const btn = document.querySelector('.btn')
        //     btn.addEventListener('click', function saveDate() {
        //         localStorage.setItem('msg', input.value)
        //     })
        //     })
        let p = { name: '安鑫', age: 18 }
        const btn = document.querySelector('.btn')
        const btn1 = document.querySelector('.btn1')
        const btn2 = document.querySelector('.btn2')
        const btn3 = document.querySelector('.btn3')
        // 存储数据
        btn.addEventListener('click', function saveData() {
            localStorage.setItem('msg', 'hello!')
            localStorage.setItem('msg2', 666)
            // 利用JSON.stringify 将对象转换为字符串 
            localStorage.setItem('person', JSON.stringify(p))
        })
        // 读取本地存储数据

        btn1.addEventListener('click', function readData() {
            const x = localStorage.getItem('msg2')
            console.log(x)
            const y = localStorage.getItem('person')
            console.log(JSON.parse(y))
            console.log(localStorage.getItem('msg'))
        })

        // 删除本地存储数据

        btn2.addEventListener('click', function deleteData() {
            localStorage.removeItem('msg')
        })

        // 清空所有本地存储文件
        btn3.addEventListener('click',function deleteAllData(){
            localStorage.clear()
        })
    </script>
</body>


</html>